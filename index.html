<!DOCTYPE html>
<html>
	<head>
		<title>DuLeone Craps</title>
		<script src="jquery.min.js" lang='javascript' type='text/javascript'></script>
		<script type='text/javascript' language='javascript' src='craps.js'></script>
		<script type='text/javascript' language='javascript' src='bets.js'></script>
		<script type='text/javascript' language='javascript'>

			var p = new Player("Dan", 1000);
			craps.players = [p];

			craps.placeBet(new HardWaysBet(1000, p.id));
			craps.placeBet(new HardWaysBet(1500, p.id));

			function roll(){
				craps.output("---Rolling---");
				var d = new dice();
				var roll = d.roll();
				craps.output(roll);
				craps.checkBets(roll);
			}
		</script>
		<style type='text/css'>
			button#roll{
				height: 20px;
				width: 300px;
				margin: 0px;
				padding: 0px;
				float: left;
				position: absolute;
				top: 0px;
				left: 0px;
			}
			#buffer{
				position: absolute;
				top: 20px;
				left: 0px;
				font-family: monospace;
				height: 748px;
				width: 300px;
				border: 1px solid black;
				overflow: scroll;
				margin: 0px;
				padding: 0px;
			}
			#buffer span{
				padding-left: 5px;
			}
			#board{
				position: absolute;
				top: 0px;
				left: 300px;
				margin: 0px;
				padding: 0px;
			}
		</style>
	</head>
	<body>
		<!-- canvas id="board" height='1024' width='768'></canvas -->
		<canvas id="board" height='768' width='1024'></canvas>
		<button id='roll' onclick='roll()'>Roll</button><br />
		<div id='buffer'></div>

		<script type='text/javascript' language='javascript'>
			var canvas = document.getElementById("board");
			var board = canvas.getContext("2d");

			//var _h = 1024, _w = 768;
			var _h = 768, _w = 1024;
			var _l = 0, _r = _w;
			var _t = 0, _b = _h;

			var colors = {
				black: "#000",
				board: "#090"
			};

			var DrawCanvas = function(board){
				return {
					line: function(x, y, w, h){
						board.moveTo(x, y);
						board.lineTo(w, h);
						board.stroke();
					},
					fillRect: function(x, y, w, h, color){
						board.fillStyle = color;
						board.fillRect(x, y, w, h);
					},
					strokeRect: function(x, y, w, h, etc){
						// Assumes etc.t is type int.
						if(typeof etc == 'undefined'){
							etc = {
								color: '#000',
								t: 1 // thickness
							}
						}

						for(var i = 0; i < etc.t; i++){
							board.strokeRect(x+i, y+i, w-(2*i), h-(2*i));
						}

					}
				}
			}

			var d = new DrawCanvas(board);
			d.fillRect(_l, _t, _w, _h, colors.board);
			d.strokeRect(_l, _t, _w, _h, {color: colors.black, t: 6});
			d.line(_l, _t, _r, _b);
			d.line(_l, _b, _r, _t);
			d.line(_r*1/2, _t, _r*1/2, _b);
			d.line(_l, _b*1/2, _r, _b*1/2);
			d.line(_l, _b*1/4, _r, _b*3/4);
			d.line(_l, _b*3/4, _r, _b*1/4);
			d.line(_r*1/4, _t, _r*3/4, _b);
			d.line(_r*3/4, _t, _r*1/4, _b);
		</script>
	</body>
</html>