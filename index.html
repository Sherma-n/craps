<!DOCTYPE html>
<html>
	<head>
		<title>DuLeone Craps</title>
		<script src="jquery.min.js" lang='javascript' type='text/javascript'></script>
		<script type='text/javascript' language='javascript' src='craps.js'></script>
		<script type='text/javascript' language='javascript' src='bets.js'></script>
		<script type='text/javascript' language='javascript'>

			var p = new Player("Dan", 1000);
			craps.players = [p];

			craps.placeBet(new HardWaysBet(1000, p.id));
			craps.placeBet(new HardWaysBet(1500, p.id));

			function roll(){
				craps.output("---Rolling---");
				var d = new dice();
				var roll = d.roll();
				craps.output(roll);
				craps.checkBets(roll);
			}
		</script>
		<style type='text/css'>
			button#roll{
				height: 20px;
				width: 300px;
				margin: 0px;
				padding: 0px;
				float: left;
				position: absolute;
				top: 0px;
				left: 0px;
			}
			#buffer{
				position: absolute;
				top: 20px;
				left: 0px;
				font-family: monospace;
				height: 748px;
				width: 300px;
				border: 1px solid black;
				overflow: scroll;
				margin: 0px;
				padding: 0px;
			}
			#buffer span{
				padding-left: 5px;
			}
			#board{
				position: absolute;
				top: 0px;
				left: 300px;
				margin: 0px;
				padding: 0px;
			}
		</style>
	</head>
	<body>
		<!-- canvas id="board" height='1024' width='768'></canvas -->
		<canvas id="board" height='768' width='1024'></canvas>
		<button id='roll' onclick='roll()'>Roll</button><br />
		<div id='buffer'></div>

		<script type='text/javascript' language='javascript'>
			var canvas = document.getElementById("board");
			var board = canvas.getContext("2d");

			//var _h = 1024, _w = 768;
			var _h = 768, _w = 1024;
			var _l = 0, _r = _w;
			var _t = 0, _b = _h;

			var colors = {
				black: "#000",
				board: "#090"
			};

			var DrawCanvas = function(board){
				return {
					line: function(x, y, w, h){
						board.moveTo(x, y);
						board.lineTo(w, h);
						board.stroke();
					},
					fillRect: function(x, y, w, h, color){
						board.fillStyle = color;
						board.fillRect(x, y, w, h);
					},
					strokeRect: function(x, y, w, h, etc){
						// Assumes etc.t is type int.
						if(typeof etc == 'undefined'){
							etc = {
								color: '#000',
								t: 1 // thickness
							}
						}
						for(var i = 0; i < etc.t; i++){
							board.strokeRect(x+i, y+i, w-(2*i), h-(2*i));
						}
					},
					grid: function(n, i){
						var drawone = function(d, n, i){
							var _up = i/n;
							var _down = (n-i)/n;
							var _T = _b * _up;
							var _L = _r * _up;
							var _R = _r * _down;
							var _B = _b * _down;
							d.line(_L, _t, _L, _b);
							d.line(_l, _T, _r, _T);
						};

						if(typeof i == 'undefined'){
							for(var j = 0; j <= n; j++){
								drawone(this, n, j);
							}
						} else {
							drawone(this, n, i);
						}
					},
					star: function(n, i){
						var drawone = function(d, n, i){
							var _up = i/n;
							var _down = (n-i)/n;
							var _T = _b * _up;
							var _L = _r * _up;
							var _R = _r * _down;
							var _B = _b * _down;
							d.line(_L, _t, _R, _b);
							d.line(_l, _T, _r, _B);
						};

						if(typeof i == 'undefined'){
							for(var j = 0; j <= n; j++){
								drawone(this, n, j);
							}
						} else {
							drawone(this, n, i);
						}
					},
					inverseStar: function(n, i){
						var drawone = function(d, n, i){
							var _up = i/n;
							var _down = (n-i)/n;
							var _T = _b * _up;
							var _L = _r * _up;
							var _R = _r * _down;
							var _B = _b * _down;
							d.line(_l, _T, _L, _t); // Congruent: d.line(_l, _B, _R, _t);
							d.line(_L, _b, _r, _T); // Congruent: d.line(_R, _b, _r, _B); d.line(_r, _T, _L, _b);
							d.line(_L, _t, _r, _B); // Congruent: d.line(_R, _t, _r, _T);
							d.line(_R, _b, _l, _T); // Congruent: d.line(_L, _b, _l, _B);
						};
						if(typeof i == 'undefined'){
							for(var j = 0; j <= n; j++){
								drawone(this, n, j);
							}
						} else {
							drawone(this, n, i);
						}
					},
					concaveArcs: function(n, i){
						var drawone = function(d, n, i){
							var _up = i/n;
							var _down = (n-i)/n;
							var _T = _b * _up;
							var _L = _r * _up;
							var _R = _r * _down;
							var _B = _b * _down;
							d.line(_l, _T, _R, _t); // Top Left | Congruent: d.line(_l, _B, _L, _t); d.line(_L, _t, _l, _B);
							d.line(_R, _t, _r, _B); // Top Right | Congruent: d.line(_L, _t, _r, _T);
							d.line(_L, _b, _l, _T); // Bottom Left | Congruent: d.line(_R, _b, _l, _B);
							d.line(_r, _B, _L, _b); // Bottom Right | Congruent: d.line(_r, _T, _R, _b); d.line(_R, _b, _r, _T); d.line(_L, _b, _r, _B);
						};
						if(typeof i == 'undefined'){
							for(var j = 0; j <= n; j++){
								drawone(this, n, j);
							}
						} else {
							drawone(this, n, i);
						}
					},
					pyramid: function(n, i){
						var drawone = function(d, n, i){
							var _up = i/n;
							var _down = (n-i)/n;
							var _T = _b * _up;
							var _L = _r * _up;
							var _R = _r * _down;
							var _B = _b * _down;
							d.line(_r, _t, _L, _T);
							d.line(_l, _t, _R, _T);
							d.line(_r, _b, _L, _B);
							d.line(_l, _b, _R, _B);
						};
						if(typeof i == 'undefined'){
							for(var j = 0; j <= n; j++){
								drawone(this, n, j);
							}
						} else {
							drawone(this, n, i);
						}
					},
					fromCorners: function(n, i){
						var drawone = function(d, n, i){
							var _up = i/n;
							var _down = (n-i)/n;
							var _T = _b * _up;
							var _L = _r * _up;
							var _R = _r * _down;
							var _B = _b * _down;
							d.line(_l, _t, _r, _T); // Top Left Top
							d.line(_l, _t, _L, _b); // Top Left Bottom
							d.line(_r, _t, _l, _T); // Top Right Top
							d.line(_r, _t, _L, _b); // Top Right Bottom
							d.line(_l, _b, _L, _t); // Bottm Left Top
							d.line(_l, _b, _r, _T); // Bottom Left Bottom
							d.line(_r, _b, _L, _t); // Bottom Right Top
							d.line(_r, _b, _l, _T); // Bottom Right Bottom
						};

						if(typeof i == 'undefined'){
							for(var j = 0; j <= n; j++){
								drawone(this, n, j);
							}
						} else {
							drawone(this, n, i);
						}
					},
					demo: function(n){
						for(var i = 0; i <= n; i++){
							var _up = i/n;
							var _down = (n-i)/n;
							var _T = _b * _up;
							var _L = _r * _up;
							var _R = _r * _down;
							var _B = _b * _down;
							this.grid(n, i);
							this.star(n, i);
							this.inverseStar(n, i);
							this.concaveArcs(n, i);
							// FIGURE THIS OUT? this.convexArcs
							this.pyramid(n, i);
							this.fromCorners(n, i);
						}
					}
				}
			}

			var d = new DrawCanvas(board);
			d.fillRect(_l, _t, _w, _h, colors.board);
			d.strokeRect(_l, _t, _w, _h, {color: colors.black, t: 6});
			d.demo(36);
/*
			d.line(_r* 1/12, _t, _r* 1/12, _b);
			d.line(_r* 2/12, _t, _r* 2/12, _b);
			d.line(_r* 3/12, _t, _r* 3/12, _b);
			d.line(_r* 4/12, _t, _r* 4/12, _b);
			d.line(_r* 5/12, _t, _r* 5/12, _b);
			d.line(_r* 6/12, _t, _r* 6/12, _b);
			d.line(_r* 7/12, _t, _r* 7/12, _b);
			d.line(_r* 8/12, _t, _r* 8/12, _b);
			d.line(_r* 9/12, _t, _r* 9/12, _b);
			d.line(_r*10/12, _t, _r*10/12, _b);
			d.line(_r*11/12, _t, _r*11/12, _b);

			d.line(_l, _b* 1/12, _r, _b* 1/12);
			d.line(_l, _b* 2/12, _r, _b* 2/12);
			d.line(_l, _b* 3/12, _r, _b* 3/12);
			d.line(_l, _b* 4/12, _r, _b* 4/12);
			d.line(_l, _b* 5/12, _r, _b* 5/12);			
			d.line(_l, _b* 6/12, _r, _b* 6/12);
			d.line(_l, _b* 7/12, _r, _b* 7/12);
			d.line(_l, _b* 8/12, _r, _b* 8/12);
			d.line(_l, _b* 9/12, _r, _b* 9/12);
			d.line(_l, _b*10/12, _r, _b*10/12);
			d.line(_l, _b*11/12, _r, _b*11/12);

			d.line(_r* 0/12, _t, _r*12/12, _b);
			d.line(_r* 1/12, _t, _r*11/12, _b);
			d.line(_r* 2/12, _t, _r*10/12, _b);
			d.line(_r* 3/12, _t, _r* 9/12, _b);
			d.line(_r* 4/12, _t, _r* 8/12, _b);
			d.line(_r* 5/12, _t, _r* 7/12, _b);
			d.line(_r* 6/12, _t, _r* 6/12, _b);
			d.line(_r* 7/12, _t, _r* 5/12, _b);
			d.line(_r* 8/12, _t, _r* 4/12, _b);
			d.line(_r* 9/12, _t, _r* 3/12, _b);
			d.line(_r*10/12, _t, _r* 2/12, _b);
			d.line(_r*11/12, _t, _r* 1/12, _b);
			d.line(_r*12/12, _t, _r* 0/12, _b);

			d.line(_l, _b* 0/12, _r, _b*12/12);
			d.line(_l, _b* 1/12, _r, _b*11/12);
			d.line(_l, _b* 2/12, _r, _b*10/12);
			d.line(_l, _b* 3/12, _r, _b* 9/12);
			d.line(_l, _b* 4/12, _r, _b* 8/12);
			d.line(_l, _b* 5/12, _r, _b* 7/12);			
			d.line(_l, _b* 6/12, _r, _b* 6/12);
			d.line(_l, _b* 7/12, _r, _b* 5/12);
			d.line(_l, _b* 8/12, _r, _b* 4/12);
			d.line(_l, _b* 9/12, _r, _b* 3/12);
			d.line(_l, _b*10/12, _r, _b* 2/12);
			d.line(_l, _b*11/12, _r, _b* 1/12);
			d.line(_l, _b*12/12, _r, _b* 0/12);
*/			
/*
			d.line(_l, _t, _r, _b);
			d.line(_l, _b, _r, _t);
			d.line(_r*1/2, _t, _r*1/2, _b);
			d.line(_l, _b*1/2, _r, _b*1/2);
			d.line(_l, _b*1/4, _r, _b*3/4);
			d.line(_l, _b*3/4, _r, _b*1/4);
			d.line(_r*1/4, _t, _r*3/4, _b);
			d.line(_r*3/4, _t, _r*1/4, _b);

			d.line(_r*1/6, _t, _r*5/6, _b);
			d.line(_r*2/6, _t, _r*4/6, _b);
			d.line(_r*4/6, _t, _r*2/6, _b);
			d.line(_r*5/6, _t, _r*1/6, _b);

			d.line(_l, _b*1/6, _r, _b*5/6);
			d.line(_l, _b*2/6, _r, _b*4/6);
			d.line(_l, _b*4/6, _r, _b*2/6);
			d.line(_l, _b*5/6, _r, _b*1/6);
*/
		</script>
	</body>
</html>